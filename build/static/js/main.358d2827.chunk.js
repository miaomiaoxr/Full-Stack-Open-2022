(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(14),r=n.n(c),s=n(3),o=n(2),a=n(4),i=n.n(a),u="/api/persons",l={getAll:function(){return i.a.get(u)},create:function(e){return i.a.post(u,e)},update:function(e,t){return i.a.put("".concat(u,"/").concat(e),t)},remove:function(e){return i.a.delete("".concat(u,"/").concat(e))}},d=n(0),j=function(e){var t=e.setFilterKey;return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{children:["filter show with ",Object(d.jsx)("input",{placeholder:"Input a name to find one",onChange:function(e){return t(e.target.value)}})]})})},b=function(e){var t=e.persons,n=e.setPersons,c=e.newName,r=e.setNewName,s=e.newNumber,o=e.setNewNumber,a=e.setMessage;return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),t.map((function(e){return e.name.toLowerCase()})).includes(c.toLowerCase()))a("".concat(c," is already added to phonebook")),setTimeout((function(){a(null)}),3e3);else{a("Added ".concat(c)),setTimeout((function(){a(null)}),3e3);var i={name:c,id:parseInt(1e4*Math.random(),10),number:s};l.create(i).then((function(e){return n(t.concat(e.data))}))}r(""),o("")},children:[Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{value:c,placeholder:"input a name",onChange:function(e){return r(e.target.value)}})]}),Object(d.jsxs)("div",{children:["number:",Object(d.jsx)("input",{value:s,placeholder:"input a phone number",onChange:function(e){return o(e.target.value)}})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"add"})})]})})},f=function(e){var t=e.persons,n=e.filterKey,c=e.setPersons,r=e.setMessage;return Object(d.jsx)("div",{children:Object(d.jsxs)("ul",{style:{listStyleType:"none",padding:"0"},children:[" ",t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsxs)("li",{children:[e.name," ",e.number]},e.id),Object(d.jsx)("button",{onClick:function(){return window.confirm("Delete ".concat(e.name," ?"))?function(e,t,n){l.remove(t).catch((function(e){r("Information of ".concat(n," has already been removed from this server")),setTimeout((function(){r(null)}),3e3)})),c(e.filter((function(e){return e.id!==t}))),r("Information of ".concat(n," is deleted")),setTimeout((function(){r(null)}),3e3)}(t,e.id,e.name):""},children:"delete"},e.id.toString().concat("button"))]},e.id.toString().concat("div"))}))]})})},m=function(e){var t=e.message;return null===t?null:Object(d.jsx)("div",{className:"success",children:t})},h=function(e){var t=e.message;return null===t?null:Object(d.jsx)("div",{className:"error",children:t})},O=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)(""),a=Object(s.a)(r,2),i=a[0],u=a[1],O=Object(o.useState)(""),p=Object(s.a)(O,2),v=p[0],x=p[1],g=Object(o.useState)(""),w=Object(s.a)(g,2),N=w[0],y=w[1],S=Object(o.useState)(null),C=Object(s.a)(S,2),k=C[0],I=C[1],M=Object(o.useState)(null),P=Object(s.a)(M,2),T=P[0],A=P[1];return Object(o.useEffect)((function(){l.getAll().then((function(e){return c(e.data)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Phonebook"}),Object(d.jsx)(j,{setFilterKey:y}),Object(d.jsx)("h3",{children:"Add a new"}),Object(d.jsx)(m,{message:k}),Object(d.jsx)(b,{persons:n,setPersons:c,newNumber:v,setNewNumber:x,setNewName:u,newName:i,setMessage:I}),Object(d.jsx)("h3",{children:"Numbers"}),Object(d.jsx)(h,{message:T}),Object(d.jsx)(f,{persons:n,filterKey:N,setPersons:c,setMessage:A})]})};n(38);r.a.render(Object(d.jsx)(O,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.358d2827.chunk.js.map